(function(n){var s={cursorcolor:"255,255,255",opacity:.5,cursor:"crosshair",zindex:2147483647,zoomviewsize:[480,395],zoomviewposition:"right",zoomviewmargin:10,zoomviewborder:"none",magnification:4},u,f,t,r,e,i,o={init:function(h){$this=n(this);u=n(".imagezoom-cursor");f=n(".imagezoom-view");n(document).on("mouseenter",$this.selector,function(c){var l=n(this).data(),a,v,y;t=n.extend({},s,h,l);i=n(this).offset();r=n(this).width();e=n(this).height();cursorSize=[t.zoomviewsize[0]/t.magnification,t.zoomviewsize[1]/t.magnification];imageSrc=l.imagezoom==!0?n(this).attr("src"):n(this).get(0).getAttribute("data-imagezoom");a=c.pageX;v=c.pageY;n("body").prepend('<div class="imagezoom-cursor">&nbsp;<\/div><div class="imagezoom-view"><img src="'+imageSrc+'"><\/div>');y=t.zoomviewposition=="right"?i.left+r+t.zoomviewmargin:i.left-r-t.zoomviewmargin;n(f.selector).css({position:"absolute",left:y,top:i.top,width:cursorSize[0]*t.magnification,height:cursorSize[1]*t.magnification,background:"#000","z-index":2147483647,overflow:"hidden",border:t.zoomviewborder});n(f.selector).children("img").css({position:"absolute",width:r*t.magnification,height:e*t.magnification});n(u.selector).css({position:"absolute",width:cursorSize[0],height:cursorSize[1],"background-color":"rgb("+t.cursorcolor+")","z-index":t.zindex,opacity:t.opacity,cursor:t.cursor});n(u.selector).css({top:v-cursorSize[1]/2,left:a});n(document).on("mousemove",document.body,o.cursorPos)})},cursorPos:function(o){var s=o.pageX,h=o.pageY;if(h<i.top||s<i.left||h>i.top+e||s>i.left+r){n(u.selector).remove();n(f.selector).remove();return}s-cursorSize[0]/2<i.left?s=i.left+cursorSize[0]/2:s+cursorSize[0]/2>i.left+r&&(s=i.left+r-cursorSize[0]/2);h-cursorSize[1]/2<i.top?h=i.top+cursorSize[1]/2:h+cursorSize[1]/2>i.top+e&&(h=i.top+e-cursorSize[1]/2);n(u.selector).css({top:h-cursorSize[1]/2,left:s-cursorSize[0]/2});n(f.selector).children("img").css({top:(i.top-h+cursorSize[1]/2)*t.magnification,left:(i.left-s+cursorSize[0]/2)*t.magnification});n(u.selector).mouseleave(function(){n(this).remove()})}};n.fn.imageZoom=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error(t);else return o.init.apply(this,arguments)};n(document).ready(function(){n("[data-imagezoom]").imageZoom()})})(jQuery)
